env: prod
ttl: 24 # in hours

host: berkeleytime.com
port: 80

mongoUri: mongodb://bt-prod-mongo-mongodb.bt.svc.cluster.local:27017/bt
redisUri: redis://bt-prod-redis-master.bt.svc.cluster.local:6379
nodeEnv: production

issuer: letsencrypt-prod

frontend:
  replicas: 2

  port: 3000
  path: /

  image:
    registry: docker.io
    repository: octoberkeleytime/bt-frontend
    tag: prod

backend:
  replicas: 2

  port: 5001
  path: /api

  image:
    registry: docker.io
    repository: octoberkeleytime/bt-backend
    tag: prod

updater:
  schedule: "0 0 * * *"
  suspend: false
  command: ["npm", "run", "update:catalog", "--workspace=backend"]

datapuller:
  courses:
    schedule: "0 0 * * *"
    suspend: false
    script: "courses"
    image:
      registry: docker.io
      repository: octoberkeleytime/bt-datapuller
      tag: prod
  sections:
    schedule: "0 1 * * *"
    suspend: false
    script: "sections"
    image:
      registry: docker.io
      repository: octoberkeleytime/bt-datapuller
      tag: prod
  classes:
    schedule: "0 2 * * *"
    suspend: false
    script: "classes"
    image:
      registry: docker.io
      repository: octoberkeleytime/bt-datapuller
      tag: prod
  cleanup:
    schedule: "0 3 * * *"
    suspend: false
    script: "logs"
    image:
      registry: docker.io
      repository: octoberkeleytime/bt-datapuller
      tag: prod
