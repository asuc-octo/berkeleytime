/* Final NotificationClassCard.module.scss */

// This section controls the overall card box and allows the popup to show over everything
.cardWrapper {
  position: relative;
  overflow: visible;
  /* The original height was fixed (e.g., 128px), which made the card short.
    We are removing the fixed height to let the content inside dictate the size, 
    which should match the Catalog card's natural height.
  */
  height: auto; // Change from fixed height to auto for flexibility 

  &.popupOpen {
    z-index: 100;
  }

  // Override Card's default overflow: hidden but keep height
  > * {
    height: 100% !important;
    overflow: visible !important;
  }
}

// Card Header Styles
.cardHeading {
  font-size: 16px !important;
  font-weight: 600 !important;
  margin-bottom: 8px !important; 
  color: var(--heading-color); 
}

.sectionNumber {
  color: var(--paragraph-color) !important; /* MUST be the light grey color */
  font-weight: 600 !important; /* Ensure it's not bold */
}

// Class Description Styles (for ellipsis and grey color)
.description {
  white-space: nowrap;  
  overflow: hidden;     
  text-overflow: ellipsis; 
  width: 100%;          
  color: var(--paragraph-color); 
}

// Enrollment Percentage Text Styles (unbolded, color is set by inline style in TSX)
.enrollmentText {
  font-size: 14px;
  font-weight: 400; 
  line-height: 1;
}

// Grade Wrapper (Restored to work with AverageGrade component)
.gradeWrapper {
  /* This block is usually needed to correctly position the AverageGrade component */
  padding-right: 4px; /* small adjustment */
}


/* --- Bell Icon and Popup Styles (Necessary for Functionality) --- */

.bellWrapper {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  position: relative;
  gap: 2px;
  min-width: 28px;
  height: 28px;
  z-index: 100;
  padding: 0 6px;
  margin-top: -3.5px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  transition: background-color 150ms ease-in-out;
  cursor: pointer;

  &:hover {
    background-color: var(--background-color);
  }

  &.active {
    color: var(--blue-500);

    &:hover {
      color: var(--blue-600);
    }
  }
}

.popup {
  background-color: var(--foreground-color);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 10px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  z-index: 10000;
  width: 280px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: absolute; /* Anchors it to the bell wrapper */
  top: 40px;          /* Positions it ~10px below the bell icon (30px bell height + 10px gap) */
  right: 0;
}

.checkboxOption {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: var(--paragraph-color);
  cursor: pointer;
  user-select: none;

  input[type="checkbox"] {
    width: 16px;
    height: 16px;
    cursor: pointer;
    flex-shrink: 0;
  }

  span {
    line-height: 1.3;
  }

  &:hover {
    color: var(--blue-500);
  }
}