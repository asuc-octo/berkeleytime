// https://d3js.org/d3-format/ Version 1.3.0. Copyright 2018 Mike Bostock.
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3=t.d3||{})}(this,function(t){"use strict";function n(t){return new r(t)}function r(t){if(!(n=s.exec(t)))throw new Error("invalid format: "+t);var n;this.fill=n[1]||" ",this.align=n[2]||">",this.sign=n[3]||"-",this.symbol=n[4]||"",this.zero=!!n[5],this.width=n[6]&&+n[6],this.comma=!!n[7],this.precision=n[8]&&+n[8].slice(1),this.trim=!!n[9],this.type=n[10]||""}function e(n){return f=M(n),t.format=f.format,t.formatPrefix=f.formatPrefix,f}var i=function(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,e=t.slice(0,r);return[e.length>1?e[0]+e.slice(2):e,+t.slice(r+1)]},o=function(t){return t=i(Math.abs(t)),t?t[1]:NaN},a=function(t,n){return function(r,e){for(var i=r.length,o=[],a=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>e&&(u=Math.max(1,e-s)),o.push(r.substring(i-=u,i+u)),!((s+=u+1)>e));)u=t[a=(a+1)%t.length];return o.reverse().join(n)}},u=function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}},s=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;n.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var c,f,h=function(t){t:for(var n,r=t.length,e=1,i=-1;e<r;++e)switch(t[e]){case".":i=n=e;break;case"0":0===i&&(i=e),n=e;break;default:if(i>0){if(!+t[e])break t;i=0}}return i>0?t.slice(0,i)+t.slice(n+1):t},l=function(t,n){var r=i(t,n);if(!r)return t+"";var e=r[0],o=r[1],a=o-(c=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=e.length;return a===u?e:a>u?e+new Array(a-u+1).join("0"):a>0?e.slice(0,a)+"."+e.slice(a):"0."+new Array(1-a).join("0")+i(t,Math.max(0,n+a-1))[0]},m=function(t,n){var r=i(t,n);if(!r)return t+"";var e=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+e:e.length>o+1?e.slice(0,o+1)+"."+e.slice(o+1):e+new Array(o-e.length+2).join("0")},p={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return m(100*t,n)},r:m,s:l,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},g=function(t){return t},d=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],M=function(t){function r(t){function r(t){var n,r,u,s=w,m=j;if("c"===v)m=k(t)+m,t="";else{t=+t;var p=t<0;if(t=k(Math.abs(t),y),b&&(t=h(t)),p&&0==+t&&(p=!1),s=(p?"("===a?a:"-":"-"===a||"("===a?"":a)+s,m=("s"===v?d[8+c/3]:"")+m+(p&&"("===a?")":""),S)for(n=-1,r=t.length;++n<r;)if(48>(u=t.charCodeAt(n))||u>57){m=(46===u?f+t.slice(n+1):t.slice(n))+m,t=t.slice(0,n);break}}x&&!g&&(t=i(t,1/0));var P=s.length+t.length+m.length,A=P<M?new Array(M-P+1).join(e):"";switch(x&&g&&(t=i(A+t,A.length?M-m.length:1/0),A=""),o){case"<":t=s+t+m+A;break;case"=":t=s+A+t+m;break;case"^":t=A.slice(0,P=A.length>>1)+s+t+m+A.slice(P);break;default:t=A+s+t+m}return l(t)}t=n(t);var e=t.fill,o=t.align,a=t.sign,u=t.symbol,g=t.zero,M=t.width,x=t.comma,y=t.precision,b=t.trim,v=t.type;"n"===v?(x=!0,v="g"):p[v]||(null==y&&(y=12),b=!0,v="g"),(g||"0"===e&&"="===o)&&(g=!0,e="0",o="=");var w="$"===u?s[0]:"#"===u&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",j="$"===u?s[1]:/[%p]/.test(v)?m:"",k=p[v],S=/[defgprs%]/.test(v);return y=null==y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),r.toString=function(){return t+""},r}function e(t,e){var i=r((t=n(t),t.type="f",t)),a=3*Math.max(-8,Math.min(8,Math.floor(o(e)/3))),u=Math.pow(10,-a),s=d[8+a/3];return function(t){return i(u*t)+s}}var i=t.grouping&&t.thousands?a(t.grouping,t.thousands):g,s=t.currency,f=t.decimal,l=t.numerals?u(t.numerals):g,m=t.percent||"%";return{format:r,formatPrefix:e}};e({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var x=function(t){return Math.max(0,-o(Math.abs(t)))},y=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(o(n)/3)))-o(Math.abs(t)))},b=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,o(n)-o(t))+1};t.formatDefaultLocale=e,t.formatLocale=M,t.formatSpecifier=n,t.precisionFixed=x,t.precisionPrefix=y,t.precisionRound=b,Object.defineProperty(t,"__esModule",{value:!0})});