{% extends "base.html" %}
{% load staticfiles %}

{% block title %}Schedule{% endblock %}

{% block stylesheets %}
    <link rel='stylesheet' type='text/css' href="{% static 'css/reset.css' %}">
    <link rel='stylesheet' type='text/css' href="{% static 'css/materialFullCalendar.css' %}">
    <link rel='stylesheet' type='text/css' href="{% static 'bootstrap/css/bootstrap-modal.min.css' %}">
    <link rel='stylesheet' type='text/css' href="{% static 'css/common/berkeleytime-box.css' %}">
    <link rel="stylesheet" type='text/css' href="{% static 'chosen/chosen.css' %}">
    <link rel='stylesheet' type='text/css' href="{% static 'css/schedule/schedule.css' %}">
    <link rel='stylesheet' type='text/css' href="{% static 'css/schedule/view_schedules.css' %}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
{% endblock %}

{% block scripts %}

    <!-- vendor scripts -->
    <script type="text/javascript" src="{% static 'js/underscore.min.js' %}"></script>
    <script type='text/javascript' src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>

    <!-- import scripts -->
    <script type="text/javascript" src="{% static 'js/requests.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/common/colors.js' %}"></script>
    <script type='text/javascript' src="{% static 'js/course-box.js' %}"></script>

    <!-- View Schedules JS imports -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="{% static 'js/schedule/moment.min.js' %}"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/fullcalendar.min.js'></script>
    <link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/fullcalendar.min.css' rel='stylesheet' />
    <link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.1.0/fullcalendar.print.css' rel='stylesheet' media='print' />
    <script src="{% static 'js/schedule/view-schedules.js' %}"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.2.2/jquery.form.min.js" ></script>
    <script src="{% static 'js/schedule/view-saved-schedules.js' %}"></script>

{% endblock %}

{% block content %}
<div class="container">
    <div id="wrapper">

        <div class="button-group">
            <div class="button-group-left">
              <a href="/scheduler/select_classes/"><button class="navButton" role="button" id="backButton">Select Classes</button></a>
            </div>
            <div class="button-group-right">
              <form id="deleteButton"  name="delete_sched_form button_form" method="post" action="/scheduler/delete_schedule/" class="">{% csrf_token %}
                  <input type="hidden" id="delete_sched_form_data" class="sched_form_data" name="delete_sched_data" value="" />
                  <input type="submit" class="button navButton" value="Delete"/>
              </form>
              <form id="exportButton" name="export_sched_form button_form" method="post" action="/scheduler/export_schedule/" class="">{% csrf_token %}
                <input type="hidden" id="export_sched_form_data" class="sched_form_data" name="export_sched_data" value="" />
                <input type="submit" class="button navButton" value="Export"></input>
              </form>
            </div>
        </div>
        <div id='calendar'></div>
    </div>
</div>


<script>
    // Should probably fix this some time
    var all_sections = "{{all_sections|safe}}";
    var sched = "{{schedules|safe}}";
    var schedule_str_list = "[";
    {% for sch in schedules %}
        schedule_str_list += (("{{sch.sections}},"));
    {% endfor %}
    schedule_str_list = schedule_str_list.substring(0, schedule_str_list.length - 1) + "]";
</script>

<a href="https://docs.google.com/a/berkeley.edu/forms/d/1eGJd2Vk52Y-6R9T7fY9JWzGvu9nsck6YhJWadWKfldE/viewform"  target="_blank">
<button id="feedback-button" style="font-family: 'Open Sans'">
Report a Problem
</button>
</a> 


{% endblock %}
